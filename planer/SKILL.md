---
name: planer
description: Этот навык расширяет ежедневное планирование функцией временного хранения данных. Он сохраняет ежедневные планы в формате JSON и Markdown, хранит данные не более 40 дней, автоматически очищает старые записи и формирует месячный отчёт по команде. Этот навык полезен для организации ежедневных задач, отслеживания прогресса и анализа продуктивности на протяжении месяца.
---

# Умный ежедневник с месячной памятью

Все данные сохраняются локально в папке навыка.

---

## Структура хранения

Каждый день сохраняется в:

/data/YYYY-MM-DD.json  
/data/YYYY-MM-DD.md  

Месячные отчёты сохраняются в:

/summaries/YYYY-MM-summary.md


---

## Доступные команды

### 1. Утреннее планирование

Триггеры:
- "утренний план"
- "составь план на сегодня"
- "что у меня сегодня запланировано?"
- "план на день"
- "добавь задачу в план на сегодня"

Действие:
→ сформировать структуру дня (проекты → задачи → статусы)
→ сохранить в JSON и Markdown
---

### 2. Сохранение дня

Триггеры:
- "сохрани день"
- "обнови задачи"

Действие:
→ обновить файл текущего дня
→ выполнить автоочистку данных старше 40 дней
---

### 3. Показать задачи

Триггеры:
- "покажи задачи на сегодня"
- "что у меня сегодня?"

Действие:
→ загрузить текущий JSON
→ вывести список задач по проектам
---

### 4. Проверка недоделанного

Триггеры:
- "что не доделано?"
- "что осталось?"

Действие:
→ показать задачи со статусами:
   - todo
   - in_progress
   - moved
---

### 5. Вечерний разбор

Триггеры:
- "вечерний разбор"

Действие:
→ обновить статусы задач
→ сохранить день
→ очистить устаревшие данные
---

### 6. Месячный отчёт

Триггеры:
- "месячный отчет"
- "отчет за месяц"
- "разбор месяца"

Действие:
→ проанализировать все JSON-файлы текущего месяца
→ рассчитать:
   - общее количество задач
   - выполненные задачи
   - процент выполнения
   - самый продуктивный проект
    **Продуктивность**:
   - количество продуктивных дней (дней с >= 1 выполненной задачей)

   **День-рекорд**:
   - день с максимальным числом выполненных задач

   **Незавершённые задачи**:
   - список задач со статусами todo / in_progress / moved

→ создать файл отчёта в /summaries/
→ добавить:
   - похвалу
   - мотивацию
   - рекомендации на следующий месяц
→ вывести краткую сводку пользователю
---

## Статусы задач

- todo — запланировано
- in_progress — в процессе
- done — выполнено
- moved — перенесено
---

## Ограничения

- Хранятся только последние 40 дней.
- Старые данные автоматически удаляются.
- Данные не добавляются в постоянную память модели.
- В контекст загружается только текущий день или текущий месяц при отчёте.
---

## Технический вызов

Сохранение:
→ python main.py save

Месячный отчёт:
→ python main.py monthly_report